articles = [
  {
    title: "Ascacou, a game both in browser & electron"
    description: """
      Ascacou is a two player game, created by my uncle Marc Buonomo.
      Iâ€™ve made an online and an electron version of this game, which you
      can find on <a href="https://github.com/BuonOmo/ascacou">github</a>.
      Soon it will be an online game, using Ruby on Rails or Nodejs.
      """
    template: "asc.html"
    type: "arcticle"
    content: """
Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      <div><img src='//placehold.it/230' alt='an image' style='float: left; margin: 20px 20px 10px 0;'></div>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

"""
  }
  {
    title: "Does Ruby on Rails work asynchronously as Node.js?"
    description: """
      Yesterday I was wondering about which one to choose between Ruby on Rails
      or Express framework. Ruby is way prettier and thus more attractive.
      However, is it as efficient as javascript which is made to work
      asynchronously?
      """
    type: "question of the month"
    content: """
Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

"""
  },{
    title: "This article is about the meaning of life"
    description: """
      Yesterday I was wondering about which one to choose between Ruby on Rails
      or Express framework. Ruby is way prettier and thus more attractive.
      However, is it as efficient as javascript which is made to work
      asynchronously?
      """
    type: "question of the month"
    content: """
Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

"""
  },{
    title: "Lorem Ipsum sit Dolor amet"
    description: """
      Yesterday I was wondering about which one to choose between Ruby on Rails
      or Express framework. Ruby is way prettier and thus more attractive.
      However, is it as efficient as javascript which is made to work
      asynchronously?
      """
    type: "question of the month"
    content: """
Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque
      <br>
      laborum laudantium magnam, minima necessitatibus neque, qui quibusdam quo ratione rem reprehenderit sit temporibus.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. A architecto doloribus, eaque ex illo inventore itaque

"""
  }]

@clipcopy = (text) =>
  textArea = document.createElement("textarea")
  textArea.style.position = 'fixed'
  textArea.style.top = 0
  textArea.style.left = 0
  textArea.style.width = '2em'
  textArea.style.height = '2em'
  textArea.style.padding = 0
  textArea.style.border = 'none'
  textArea.style.outline = 'none'
  textArea.style.boxShadow = 'none'
  textArea.style.background = 'transparent'
  textArea.value = text
  document.body.appendChild(textArea)
  textArea.select()
  try
    document.execCommand('copy')
  catch
    console.log _error
  document.body.removeChild(textArea)

Vue.component 'articleResume',
  props: ['article', 'exp']
  template: """
    <article :id="slugify(article.title)" @click='if (!exp) expand()'>
      <span class='collapse' @click.stop='collapse()' :class='{visible: exp}'><i class='fa fa-compress'></i></span>
      <h2>{{article.title}}</h2>

      <p v-html="article.content" :class='{expanded: exp}'></p>
    </article>
    """
  methods:
    expand: () ->
      @exp = true # fixme: should use a computed variable instead (or setter and getter)
      setTimeout(() =>
        window.location = '#' + @slugify(@article.title)
      , 200)
    collapse: () ->
      @exp = false
      window.location = '#'
    slugify: (text) ->
      text.toLowerCase().replace(/[^\w ]+/g,'').replace(/\ +/g,'-')
    clipcopy: window.clipcopy


@app = new Vue
  el: "#app"
  data:
    articles: articles
  methods:
    clipcopy: window.clipcopy

###
  this function is used in footer for email clipcopy event.
###
@addclicked = (event) ->
  event.stopPropagation()
  event.preventDefault()
  document.querySelector('.email>span').classList.add 'copied'
  setTimeout () ->
    document.querySelector('.email>span').classList.remove 'copied'
  , 2000